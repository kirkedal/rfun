<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ast</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Ast.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Ast</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Abstract syntax tree for RFun
</p><p>The language is based on, to which the are make references in the comments:
</p><p>Grammar:                                         
 q ::= d*                           (program)
 d ::= f l =^= e                    (definition)
 l ::= x                            (variable)
     | c(l_1,...,l_n)               (constructor)
     | |l|                          (duplication/equality)
 e ::= l                            (left-expression)
     | let l_out = f l_in in e      (let-expression)
     | rlet l_in = f l_out in e     (rlet-expression)
     | case l of {l_i -&gt; e_i}+      (case-expression)
</p><p>Syntax domains: 
 q &#8712; Programs
 d &#8712; Definitions 
 f &#8712; Functions
 l &#8712; Left-expressions 
 e &#8712; Expressions
 x &#8712; Variables
 c &#8712; Constructors
</p><p>Abstract syntax of the first-order functional language (n &#8805; 0, m &#8805; 1) The Language
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Module">Module</a>  = <a href="#v:Module">Module</a> {<ul class="subs"><li><a href="#v:moduleName">moduleName</a> :: <a href="Ast.html#t:Ident">Ident</a></li><li><a href="#v:moduleExports">moduleExports</a> :: [<a href="Ast.html#t:Ident">Ident</a>]</li><li><a href="#v:moduleImports">moduleImports</a> :: [<a href="Ast.html#t:Ident">Ident</a>]</li><li><a href="#v:moduleProgram">moduleProgram</a> :: <a href="Ast.html#t:Program">Program</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Program">Program</a> = [<a href="Ast.html#t:Func">Func</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Func">Func</a>  = <a href="#v:Func">Func</a> {<ul class="subs"><li><a href="#v:funcname">funcname</a> :: <a href="Ast.html#t:Ident">Ident</a></li><li><a href="#v:param">param</a> :: <a href="Ast.html#t:LExpr">LExpr</a></li><li><a href="#v:body">body</a> :: <a href="Ast.html#t:Expr">Expr</a></li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Expr">Expr</a> <ul class="subs"><li>= <a href="#v:LeftE">LeftE</a> <a href="Ast.html#t:LExpr">LExpr</a>  </li><li>| <a href="#v:LetIn">LetIn</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Expr">Expr</a>  </li><li>| <a href="#v:RLetIn">RLetIn</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Expr">Expr</a>  </li><li>| <a href="#v:CaseOf">CaseOf</a> <a href="Ast.html#t:LExpr">LExpr</a> [(<a href="Ast.html#t:LExpr">LExpr</a>, <a href="Ast.html#t:Expr">Expr</a>)]  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:LExpr">LExpr</a> <ul class="subs"><li>= <a href="#v:Var">Var</a> <a href="Ast.html#t:Ident">Ident</a>  </li><li>| <a href="#v:Constr">Constr</a> <a href="Ast.html#t:Ident">Ident</a> [<a href="Ast.html#t:LExpr">LExpr</a>]  </li><li>| <a href="#v:DupEq">DupEq</a> <a href="Ast.html#t:LExpr">LExpr</a>  </li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Ident">Ident</a> = String</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Value">Value</a>  = <a href="#v:ConstrV">ConstrV</a> <a href="Ast.html#t:Ident">Ident</a> [<a href="Ast.html#t:Value">Value</a>]</li><li class="src short"><a href="#v:valueToLExpr">valueToLExpr</a> :: <a href="Ast.html#t:Value">Value</a> -&gt; <a href="Ast.html#t:LExpr">LExpr</a></li><li class="src short"><a href="#v:constrToNum">constrToNum</a> :: <a href="Ast.html#t:LExpr">LExpr</a> -&gt; Maybe Int</li><li class="src short"><span class="keyword">type</span> <a href="#t:FuncEnv">FuncEnv</a> = Map <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:Func">Func</a></li><li class="src short"><a href="#v:prettyFuncEnv">prettyFuncEnv</a> :: <a href="Ast.html#t:FuncEnv">FuncEnv</a> -&gt; String</li><li class="src short"><span class="keyword">class</span>  <a href="#t:Pretty">Pretty</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="#v:pretty">pretty</a> :: a -&gt; String</li></ul></li><li class="src short"><a href="#v:getList">getList</a> :: <a href="Ast.html#t:LExpr">LExpr</a> -&gt; Maybe [<a href="Ast.html#t:LExpr">LExpr</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Module" class="def">Module</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Module" class="def">Module</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:moduleName" class="def">moduleName</a> :: <a href="Ast.html#t:Ident">Ident</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:moduleExports" class="def">moduleExports</a> :: [<a href="Ast.html#t:Ident">Ident</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:moduleImports" class="def">moduleImports</a> :: [<a href="Ast.html#t:Ident">Ident</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:moduleProgram" class="def">moduleProgram</a> :: <a href="Ast.html#t:Program">Program</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Module" class="caption collapser" onclick="toggleSection('i:Module')">Instances</p><div id="section.i:Module" class="show"><table><tr><td class="src">Eq <a href="Ast.html#t:Module">Module</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ast.html#t:Module">Module</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Program" class="def">Program</a> = [<a href="Ast.html#t:Func">Func</a>]</p><div class="doc"><p>A program is a sequence of functions
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Func" class="def">Func</a>  </p><div class="doc"><p>A function is an identifier is some left-expression as parameter and
  an expression as body
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Func" class="def">Func</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:funcname" class="def">funcname</a> :: <a href="Ast.html#t:Ident">Ident</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:param" class="def">param</a> :: <a href="Ast.html#t:LExpr">LExpr</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:body" class="def">body</a> :: <a href="Ast.html#t:Expr">Expr</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Func" class="caption collapser" onclick="toggleSection('i:Func')">Instances</p><div id="section.i:Func" class="show"><table><tr><td class="src">Eq <a href="Ast.html#t:Func">Func</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ast.html#t:Func">Func</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Func">Func</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Expr" class="def">Expr</a>  </p><div class="doc"><p>An expression is
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LeftE" class="def">LeftE</a> <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc"><p>Left-expression
</p></td></tr><tr><td class="src"><a name="v:LetIn" class="def">LetIn</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Expr">Expr</a></td><td class="doc"><p>Let-binding
</p></td></tr><tr><td class="src"><a name="v:RLetIn" class="def">RLetIn</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:LExpr">LExpr</a> <a href="Ast.html#t:Expr">Expr</a></td><td class="doc"><p>Let-binding with reverse function call
</p></td></tr><tr><td class="src"><a name="v:CaseOf" class="def">CaseOf</a> <a href="Ast.html#t:LExpr">LExpr</a> [(<a href="Ast.html#t:LExpr">LExpr</a>, <a href="Ast.html#t:Expr">Expr</a>)]</td><td class="doc"><p>Case-of expression
</p></td></tr></table></div><div class="subs instances"><p id="control.i:Expr" class="caption collapser" onclick="toggleSection('i:Expr')">Instances</p><div id="section.i:Expr" class="show"><table><tr><td class="src">Eq <a href="Ast.html#t:Expr">Expr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ast.html#t:Expr">Expr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Expr">Expr</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:LExpr" class="def">LExpr</a>  </p><div class="doc"><p>A left-expression is
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Var" class="def">Var</a> <a href="Ast.html#t:Ident">Ident</a></td><td class="doc"><p>Variable
</p></td></tr><tr><td class="src"><a name="v:Constr" class="def">Constr</a> <a href="Ast.html#t:Ident">Ident</a> [<a href="Ast.html#t:LExpr">LExpr</a>]</td><td class="doc"><p>Constructor term
</p></td></tr><tr><td class="src"><a name="v:DupEq" class="def">DupEq</a> <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc"><p>Duplication / equality test
</p></td></tr></table></div><div class="subs instances"><p id="control.i:LExpr" class="caption collapser" onclick="toggleSection('i:LExpr')">Instances</p><div id="section.i:LExpr" class="show"><table><tr><td class="src">Eq <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Ident" class="def">Ident</a> = String</p><div class="doc"><p>Identifiers at simple Strings
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Value" class="def">Value</a>  </p><div class="doc"><p>A value (p. 16) is defined as
 * a constructor of 0 or more values
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ConstrV" class="def">ConstrV</a> <a href="Ast.html#t:Ident">Ident</a> [<a href="Ast.html#t:Value">Value</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Value" class="caption collapser" onclick="toggleSection('i:Value')">Instances</p><div id="section.i:Value" class="show"><table><tr><td class="src">Eq <a href="Ast.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Ast.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:valueToLExpr" class="def">valueToLExpr</a> :: <a href="Ast.html#t:Value">Value</a> -&gt; <a href="Ast.html#t:LExpr">LExpr</a></p><div class="doc"><p>Converting a value to a left-expression
</p></div></div><div class="top"><p class="src"><a name="v:constrToNum" class="def">constrToNum</a> :: <a href="Ast.html#t:LExpr">LExpr</a> -&gt; Maybe Int</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:FuncEnv" class="def">FuncEnv</a> = Map <a href="Ast.html#t:Ident">Ident</a> <a href="Ast.html#t:Func">Func</a></p><div class="doc"><p>Function environments (to be used later) is a mapping from Identifiers to a Function
</p></div></div><div class="top"><p class="src"><a name="v:prettyFuncEnv" class="def">prettyFuncEnv</a> :: <a href="Ast.html#t:FuncEnv">FuncEnv</a> -&gt; String</p></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Pretty" class="def">Pretty</a> a  <span class="keyword">where</span></p><div class="doc"><p>Pretty for showing programs and values
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:pretty" class="def">pretty</a> :: a -&gt; String</p></div><div class="subs instances"><p id="control.i:Pretty" class="caption collapser" onclick="toggleSection('i:Pretty')">Instances</p><div id="section.i:Pretty" class="show"><table><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:LExpr">LExpr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Expr">Expr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Ast.html#t:Pretty">Pretty</a> <a href="Ast.html#t:Func">Func</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:getList" class="def">getList</a> :: <a href="Ast.html#t:LExpr">LExpr</a> -&gt; Maybe [<a href="Ast.html#t:LExpr">LExpr</a>]</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>